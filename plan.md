# URL Shortener with File Uploads

## Backend Tasks
- Generate API
- Write out Swagger definition (this is so FE dev can start developing without full API development being completed)
- JWT authentication
- Middleware to ensure requests are properly authed
- Database modelling

## Frontend Tasks
- Bootstrap Nextjs project (create project, install linters, formatters, testing packages etc.)
- Create rough figma design (optional, can be done whilst swagger is being generated by BE)
- Create components from designs
- Create route layout, and protect the necessary paths

## DevOps Tasks

- Write terraform for S3 and DB
- Work with FE, BE to create CI pipeline

## Timeline Breakdown

| **Day**   | **Backend (BE)**                                                                  | **Frontend (FE)**                                                                                 | **DevOps (DE)**                                                               |
|-----------|-----------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
| **Day 1** | - Scaffold API with FastAPI  <br>- Start database modelling                       | - Bootstrap Next.js project (linting, formatting, testing)  <br>- *(Optional)* Start Figma design | - Begin Terraform setup for S3 and DB                                         |
| **Day 2** | - Complete Swagger/OpenAPI definition  <br>- Implement JWT auth (register/login)  | - Create core components (login, register, dashboard layout)  <br>- Mock API using Swagger spec   | - Continue Terraform (IAM roles, networking)  <br>- Coordinate schema with BE |
| **Day 3** | - Add auth middleware  <br>- Implement core endpoints (URLs, file upload)         | - Implement route layout  <br>- Add auth guards  <br>- Begin integrating with backend API         | - Finalize Terraform  <br>- Begin writing CI pipeline                         |
| **Day 4** | - Hook up DB models to endpoints  <br>- Handle errors, validation, response types | - Complete API integration  <br>- Finalize dashboard and file/URL views                           | - Finalize CI pipeline  <br>- Set up deploy configs and secrets               |
| **Day 5** | - Write tests (unit + integration)  <br>- Polish & secure endpoints               | - UI testing and polish  <br>- Bug fixes and final pass                                           | - Run full deploy  <br>- Monitor and verify system is working end-to-end      |
## Risk Assessment & Mitigation

| Risk                          | Mitigation                                            |
|-------------------------------|-------------------------------------------------------|
| Token leakage / insecure auth | Use HTTP-only cookies; validate JWT strictly          |
| File upload abuse             | Limit file size (e.g., 10MB) and validate MIME types  |
| S3 misconfigurations          | Use presigned URLs and IAM permissions                |
| CORS issues                   | Proper CORS config in FastAPI (allow origin, methods) |

## Testing Strategy

In the real world, I would expect testing to be done during development and even see it as a barrier for a piece of work to be completed. However, in this scenario as we only have 1 week I would prefer to do it at the end as core functionality is important. That being said, I would like to see some tests during development for happy paths.

### Backend
- **Unit tests**: token logic, URL generation, validation
- **Integration tests**: full API request flows (register → login → create URL → upload file)

### Frontend
- **Component tests**: form inputs, file upload, URL listing
- **Integration tests**: login → dashboard → create URL/upload file